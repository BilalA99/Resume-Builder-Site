<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resume Template 1</title>
  <link href="https://fonts.googleapis.com/css?family=Lato:400,300,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="../css/resume-template1.css">
</head>
<body>

<div class="container">
  <div class="header">
    <div class="full-name">
      <span class="first-name" id="fullName">[Full Name]</span>
    </div>
    <div class="contact-info">
      <span class="email">Email: </span>
      <span class="email-val" id="email">[Email]</span>
      <span class="separator"></span>
      <span class="phone">Phone: </span>
      <span class="phone-val" id="phone">[Phone]</span>
    </div>
    <div class="about">
      <span class="position" id="jobTitle">[Job Title]</span>
      <span class="desc" id="aboutMe">[About Me]</span>
    </div>
  </div>

  <div class="details">
    <div class="section" id="workExperienceSection">
      <div class="section__title">Work Experience</div>
      <div class="section__list" id="workExperience"></div>
    </div>

    <div class="section" id="educationSection">
      <div class="section__title">Education</div>
      <div class="section__list" id="education"></div>
    </div>

    <div class="section" id="skillsSection">
      <div class="section__title">Skills</div>
      <div class="skills" id="skills"></div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    let resumeData = JSON.parse(localStorage.getItem("resumeData"));
    if (!resumeData) {
      alert("No data found. Please start over.");
      window.location.href = "create-resume.html";
      return;
    }

    document.getElementById("fullName").textContent = resumeData.fullName;
    document.getElementById("email").textContent = resumeData.email;
    document.getElementById("phone").textContent = resumeData.phone;
    document.getElementById("jobTitle").textContent = resumeData.jobTitle;
    document.getElementById("aboutMe").textContent = resumeData.about;

    if (resumeData.experience.trim() !== "") {
      resumeData.experience.split("\n").forEach(exp => {
        let div = document.createElement("div");
        div.classList.add("section__list-item");
        div.textContent = exp;
        document.getElementById("workExperience").appendChild(div);
      });
    } else {
      document.getElementById("workExperienceSection").style.display = "none";
    }

    if (resumeData.education.trim() !== "") {
      resumeData.education.split("\n").forEach(edu => {
        let div = document.createElement("div");
        div.classList.add("section__list-item");
        div.textContent = edu;
        document.getElementById("education").appendChild(div);
      });
    } else {
      document.getElementById("educationSection").style.display = "none";
    }

    if (resumeData.skills.length > 0 && resumeData.skills[0] !== "") {
      resumeData.skills.forEach(skill => {
        let div = document.createElement("div");
        div.classList.add("skills__item");
        div.textContent = skill;
        document.getElementById("skills").appendChild(div);
      });
    } else {
      document.getElementById("skillsSection").style.display = "none";
    }
  });
</script>

</body>
</html>
